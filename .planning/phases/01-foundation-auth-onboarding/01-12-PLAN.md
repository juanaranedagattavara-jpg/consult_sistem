---
phase: 01-foundation-auth-onboarding
plan: 12
type: execute
wave: 7
depends_on: ["01-08"]
files_modified: [src/hooks/use-file-url.ts]
autonomous: true
must_haves:
  truths:
    - "useFileUrl hook returns URL for storage ID"
  artifacts:
    - path: "src/hooks/use-file-url.ts"
      exports: ["useFileUrl"]
---

<objective>
Create hook for getting file URLs from Convex storage.

Purpose: Display uploaded images.
Output: Reusable hook for file URL resolution.
</objective>

<tasks>

<task type="auto">
  <name>Create useFileUrl hook</name>
  <files>src/hooks/use-file-url.ts</files>
  <action>
  Create src/hooks/use-file-url.ts:

  ```typescript
  import { useQuery } from "convex/react";
  import { api } from "../../convex/_generated/api";
  import { Id } from "../../convex/_generated/dataModel";

  export function useFileUrl(storageId: Id<"_storage"> | null | undefined) {
    const url = useQuery(
      api.files.getFileUrl,
      storageId ? { storageId } : "skip"
    );
    return url;
  }
  ```
  </action>
  <verify>Hook exports correctly</verify>
  <done>useFileUrl hook ready</done>
</task>

</tasks>

<verification>
- [ ] Hook exists at src/hooks/use-file-url.ts
- [ ] Exports useFileUrl
- [ ] Returns URL or undefined
</verification>

<success_criteria>
- Hook created
- Can get file URLs
</success_criteria>

<output>
Create `.planning/phases/01-foundation-auth-onboarding/01-12-SUMMARY.md`
</output>
