---
phase: 01-foundation-auth-onboarding
plan: 35
type: execute
wave: 16
depends_on: ["01-32", "01-33", "01-34"]
files_modified: [src/app/(dashboard)/dashboard/page.tsx]
autonomous: true
must_haves:
  truths:
    - "Dashboard page shows stats and quick actions"
  artifacts:
    - path: "src/app/(dashboard)/dashboard/page.tsx"
      min_lines: 60
---

<objective>
Create main dashboard page.

Purpose: Central hub after login.
Output: Dashboard with stats, quick actions, upcoming appointments.
</objective>

<tasks>

<task type="auto">
  <name>Create dashboard page</name>
  <files>src/app/(dashboard)/dashboard/page.tsx</files>
  <action>
  Create src/app/(dashboard)/dashboard/page.tsx:

  ```typescript
  "use client";

  import { useQuery } from "convex/react";
  import { api } from "../../../../convex/_generated/api";
  import { StatsCard } from "@/components/dashboard/stats-card";
  import { UpcomingAppointments } from "@/components/dashboard/upcoming-appointments";
  import { Button } from "@/components/ui/button";
  import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
  import {
    Calendar,
    CalendarDays,
    CheckCircle,
    Clock,
    Plus,
    List,
    Users,
  } from "lucide-react";
  import Link from "next/link";

  export default function DashboardPage() {
    const stats = useQuery(api.dashboard.getStats);

    return (
      <div className="p-6">
        <h1 className="text-2xl font-bold mb-6">Dashboard</h1>

        {/* Stats Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
          <StatsCard
            title="Citas hoy"
            value={stats?.appointmentsToday || 0}
            icon={Calendar}
          />
          <StatsCard
            title="Citas esta semana"
            value={stats?.appointmentsWeek || 0}
            icon={CalendarDays}
          />
          <StatsCard
            title="Tasa de confirmación"
            value={`${stats?.confirmationRate || 0}%`}
            icon={CheckCircle}
          />
          <StatsCard
            title="Horas recuperadas"
            value={stats?.hoursRecovered || 0}
            icon={Clock}
            description="Este mes"
          />
        </div>

        {/* Quick Actions + Upcoming */}
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          {/* Quick Actions */}
          <Card>
            <CardHeader>
              <CardTitle>Acciones rápidas</CardTitle>
            </CardHeader>
            <CardContent className="space-y-3">
              <Button asChild className="w-full justify-start" variant="outline">
                <Link href="/citas/nueva">
                  <Plus className="mr-2 h-4 w-4" />
                  Nueva cita
                </Link>
              </Button>
              <Button asChild className="w-full justify-start" variant="outline">
                <Link href="/agenda">
                  <Calendar className="mr-2 h-4 w-4" />
                  Ver agenda
                </Link>
              </Button>
              <Button asChild className="w-full justify-start" variant="outline">
                <Link href="/lista-espera">
                  <List className="mr-2 h-4 w-4" />
                  Lista de espera
                </Link>
              </Button>
              <Button asChild className="w-full justify-start" variant="outline">
                <Link href="/pacientes">
                  <Users className="mr-2 h-4 w-4" />
                  Pacientes
                </Link>
              </Button>
            </CardContent>
          </Card>

          {/* Upcoming Appointments */}
          <div className="lg:col-span-2">
            <UpcomingAppointments />
          </div>
        </div>
      </div>
    );
  }
  ```
  </action>
  <verify>Dashboard page renders all components</verify>
  <done>Dashboard page ready</done>
</task>

</tasks>

<verification>
- [ ] Stats cards show
- [ ] Quick actions link correctly
- [ ] Upcoming appointments shows
- [ ] Responsive layout
</verification>

<success_criteria>
- Dashboard functional
- All components integrated
- Responsive design
</success_criteria>

<output>
Create `.planning/phases/01-foundation-auth-onboarding/01-35-SUMMARY.md`
</output>
